import cv2


score=[0.8954651452602437,
0.895432730478736,
0.8954134398303598,
0.8953998431870089,
0.8953877035287551,
0.8953725710916273,
0.8953465888517622,
0.8953393836150189,
0.8953401343376064,
0.8953436425856547,
0.8953428954828213,
0.8953409695234633,
0.8953442735311107,
0.8953489957176255,
0.8953504341069536,
0.895353978933967,
0.8953539509436945,
0.8953529662325018,
0.8953522159527877,
0.8953513664640662,
0.8953512671296953,
0.8953513620431431,
0.8953521213324823,
0.8953524630488766,
0.8953528714283604,
0.8953532876424309,
0.8953532798791265,
0.8953533921135199,
0.8953536115468795,
0.8953536778169446,
0.8953535899796884,
0.8953535305195628,
0.8953533978584225,
0.8953533634674216,
0.8953534355715314,
0.8953535115976677,
0.8953540225063475,
0.8953540070090336,
0.8953535104910244,
0.8953535301521112,
0.8953537349303777,
0.8953539825598298,
0.8953536296819499,
0.8953536588938391,
0.8953539438211843,
0.8953537759535444,
0.8953535157700948,
0.8953538096326727,
0.8953544377313198,
0.8953542387006806,
0.8953533127185179,
0.8953534456424017,
0.8953539994905776,
0.895354136995663,
0.8953534020831182,
0.8953530476200706,
0.8953528760398718,
0.8953529749001008,
0.8953530734664875,
0.8953530770095905,
0.8953530688725763,
0.8953529450528086,
0.8953528664426501,
0.8953528952024286,
0.8953530023179319,
0.8953530594614505,
0.8953530191381891,
0.8953529073969744,
0.8953528220347815,
0.8953528849311032,
0.8953529805436818,
0.8953530420384896,
0.8953529942975428,
0.8953529135270388,
0.8953528323169215,
0.895352898184615,
0.8953530304895987,
0.8953530897488499,
0.8953530710057235,
0.895352956202087,
0.8953528772600532,
0.8953529394373404,
0.8953530656071603,
0.895353117683741,
0.8953530919164375,
0.8953529684359874,
0.8953528765416924,
0.8953529291266045,
0.8953530335487123,
0.8953530853332009,
0.8953530688591874,
0.89535294530869,
0.8953528670101004,
0.8953528952634275,
0.8953530021387172,
0.8953530592239073,
0.8953530190009383,
0.8953529073538727,
0.8953528218079086,
0.8953528851150772,
0.8953529805782872,
0.8953892042533087,
0.8954720004917565,
0.8954882603488842,
0.895492443053838,
0.895508015461011,
0.8952905291014729,
0.8951242352800393,
0.8950488897299939,
0.894960281831854,
0.8949837165841042,
0.8948657357131454,
0.89478072524518,
0.8950242918305494,
0.8950534746551432,
0.8950252574411243,
0.8949793921044555,
0.8949793982200168,
0.8950428011187168,
0.8950916281887789,
0.8952384280747011,
0.8951018342614101,
0.8948948755635624,
0.8951625555334713,
0.8952201847579526,
0.8952167593822148,
0.89541544205498,
0.8956432170350735,
0.8958227211519483,
0.8959636194168761,
0.8961255717260589,
0.8962190850362324,
0.8962611071539255,
0.8964295547505946,
0.8965304075849337,
0.8966011950925734,
0.896629647796599,
0.8966850794322566,
0.8966959168922132,
0.8967001724990089,
0.8967353077495517,
0.8968037018297021,
0.8968814319450357,
0.8969910381459544,
0.8970485148974173,
0.8970363433413655,
0.896986792315392,
0.8969240059998932,
0.8968472743640911,
0.8967752457087921,
0.8966991774962774,
0.8966664277491725,
0.8966844306593135,
0.8965953615737805,
0.8965757741169168,
0.8962198798451613,
0.8959293093823476,
0.8955891185242731,
0.895281292307776,
0.8949524292492665,
0.8945929925534595,
0.8943626193177932,
0.8941048152796479,
0.893577990205667,
0.8931048210531635,
0.8926280394749526,
0.8921434172862145,
0.8915205384238206,
0.8907759245078005,
0.889917922948241,
0.8888633399551852,
0.8882359591826857,
0.8876272184247271,
0.8862049202283113,
0.8850809831478709,
0.8844610016938761,
0.8839415586291901,
0.883282877209567,
0.882553466854079,
0.8818796968197855,
0.8809378829110239,
0.8801216091000701,
0.8794533820712428,
0.8782440894201935,
0.8773539696951606,
0.8767193660825356,
0.876264554220952,
0.8757161080031928,
0.8752021224300902,
0.8748655408878332,
0.8744086991744536,
0.8739564914105488,
0.8736591018341765,
0.8732091682208826,
0.8729726572273233,
0.8727601352646361,
0.8724381603974252,
0.871930086127218,
0.8712064561761723,
0.8703329457729746,
0.8691519293584508,
0.8687524910973072,
0.8684081126521999,
0.8670885001097458,
0.8662985933415237,
0.8651930403649699,
0.8642349084028608,
0.863041649343707,
0.8616706475978975,
0.8603083900416686,
0.8585340022131734,
0.8578658582972003,
0.8572010543089318,
0.854876217221918,
0.8533891878337286,
0.8522558732277242,
0.8515940457390313,
0.8507290451844117,
0.8499182144345114,
0.8494927051059412,
0.8488371965549827,
0.8487421434971129,
0.8487856353951412,
0.847938203694111,
0.8476378634386533,
0.8479698656815293,
0.8483297206788296,
0.8483267822681437,
0.8481971929520027,
0.84798445453484,
0.8473141922264258,
0.8468985223474043,
0.8465465180445491,
0.8450606431656654,
0.8439180609310004,
0.8430235080044224,
0.842365602656334,
0.84146636583658,
0.8404649687168767,
0.8394918547772466,
0.8384585186999698,
0.8376262163254322,
0.8370069932940514,
0.8358369564646266,
0.8347581445334106,
0.8337769244820354,
0.8329544228115461,
0.8321351535657292,
0.8314906950357196,
0.8310227228292427,
0.8310730123913596,
0.8313530599683552,
0.831924665403288,
0.8330220419864244,
0.8339441024341938,
0.8341555392744475,
0.8343827141443114,
0.8346013998811663,
0.83480805394192,
0.8348238007218322,
0.8346187200346158,
0.834535504432785,
0.8343038967900936,
0.8334816584731839,
0.8328676444783161,
0.8324018287736037,
0.8321748902320563,
0.8318253032032227,
0.8313683731957018,
0.8308790131666575,
0.8299381624977713,
0.8290642003249131,
0.8281139066751523,
0.8264049247753648,
0.8249973359546103,
0.8243221589885619,
0.8237574849456459,
0.8231433723194427,
0.8226376785200689,
0.8224631810702792,
0.8224989645414995,
0.822408625146702,
0.8225251898120491,
0.8231205909674069,
0.8236527971924932,
0.8240397038945384,
0.8242172336069269,
0.8244556621789907,
0.8246700189751588,
0.8249879093381405,
0.8254463090102638,
0.8251972186091758,
0.8249339299150868,
0.8264221509199159,
0.8272974001801243,
0.827948660020998,
0.8282543735290671,
0.8290215191868947,
0.8298591376056587,
0.8306103258154431,
0.8317219784176408,
0.8316408605637526,
0.8312597275469191,
0.8334718197560581,
0.8348640635872099,
0.8362925306192831,
0.837544005894202,
0.8395888745822065,
0.8418498965847939,
0.8440711450794389,
0.8466734681258841,
0.8482790433597182,
0.8495804939428784,
0.8521597561597813,
0.8539853838453464,
0.8554132970708782,
0.8564805305902335,
0.8576904391305685,
0.858855122874612,
0.8597256640835788,
0.8607405336964077,
0.8618772537658652,
0.8629922278539509,
0.8636669381633331,
0.8640419916938973,
0.8639780078919858,
0.8638906126363403,
0.8636190000168216,
0.8634326313022698,
0.8631888592865599,
0.8631643347109493,
0.8634937996300658,
0.863873054888629,
0.8643206378847588,
0.8648537489642325,
0.8655328507116873,
0.866318954043751,
0.8672549238905902,
0.8684339055492314,
0.8696498341618426,
0.8710224166012351,
0.8719606635659578,
0.8727542961866164,
0.8740586060292135,
0.875213918508227,
0.876278603456911,
0.8771668763783674,
0.8782381860513186,
0.8793400462978037,
0.8803956607584842,
0.8816292960174449,
0.8823554396519369,
0.8829397950110213,
0.884016122023708,
0.8848488205520129,
0.885242728200967,
0.8854704462202713,
0.8857316379726956,
0.8859308026284178,
0.8861135356418764,
0.8864391272846663,
0.8866670102206478,
0.8868634080715727,
0.8873405919602536,
0.8876208079027638,
0.8878408751790642,
0.8880024935176349,
0.8882013967302221,
0.8884744432564583,
0.888680673456843,
0.8890228979396557,
0.8892253062048376,
0.8893695021328424,
0.8897765155089101,
0.8900331622870071,
0.8904259853025753,
0.890730932291615,
0.8910820682449779,
0.8914120712848794,
0.8916768361590833,
0.8920004218658014,
0.8921665026592933,
0.8922404081981872,
0.8925563182446739,
0.8928538608068407,
0.8931325813988916,
0.8933407095545629,
0.8936655105626337,
0.8939287911232773,
0.8942019262935043,
0.8945292073156721,
0.8946193835220853,
0.8946356766918083,
0.8949559374269835,
0.8951691387084693,
0.8953540581876834,
0.895498668148546,
0.8957279350276671,
0.8959844455604825,
0.8962181258864442,
0.8965393465762579,
0.8967164123528827,
0.8968818232834693,
0.8973452768573367,
0.8976951754326312,
0.8976330039359439,
0.8975276821305911,
0.897405122137877,
0.897338061548399,
0.8972863067327075,
0.8973013252597328,
0.8973148555362507,
0.8973445036423648,
0.8975217779805443,
0.8976820729369381,
0.8978592329220071,
0.8979840715186727,
0.8981672233110973,
0.8983888046857217,
0.898601368453226,
0.8987773482680695,
0.8988594516467205,
0.8989001627638606,
0.8990093134837182,
0.8991013197093184,
0.8994653748425561,
0.8997898254358416,
0.90015815319968,
0.9005186341735314,
0.9007910536722502,
0.9010677299422806
]




import numpy as np
import time
camera = cv2.VideoCapture("test1.mp4") # 参数0表示第一个摄像头
videoWriter = cv2.VideoWriter("test1-result.mp4", cv2.VideoWriter_fourcc(*'DIVX'), 30, (500,300))
# out = cv2.VideoWriter('result.mp4', cv2.VideoWriter_fourcc(*'mp4v'), 12, (238, 158))


i=0
while True:
    # 读取视频流
    # time.sleep(0.05)
    grabbed, img = camera.read()
    img=cv2.resize(img,(500,300),interpolation=cv2.INTER_AREA)


    if score[i]>=np.mean(score):
        # print(3)
        cv2.putText(img, "Retrograde Or Not: NO", (0, 25), cv2.FONT_HERSHEY_SIMPLEX, 1, (0, 255, 0), 3)
    else:
        cv2.putText(img, "Retrograde Or Not: YES", (0, 25), cv2.FONT_HERSHEY_SIMPLEX, 1, (0, 0, 255), 3)

    cv2.imshow('result', img)

    key = cv2.waitKey(1) & 0xFF
    if key == ord('q'):    # 按'q'健退出循环
        break
    i+=1

    videoWriter.write(img)

# 释放资源并关闭窗口
camera.release()
cv2.destroyAllWindows()
